---
title: "Introducing openpoweRlifting"
output: rmarkdown::html_vignette
date: "`r Sys.Date()`"
vignette: >
  %\VignetteIndexEntry{Introducing_openpoweRlifting}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

```{r setup}
library(openpoweRlifting)
library(pins)
```

openpoweRifting is a library that handles keeping an up-to-date copy of the [OpenPowerlifting](https://www.openpowerlifting.org/) data.

It achieves this with the [pins](https://cran.r-project.org/web/packages/pins/index.html) library, and we would encourage you to read the [intro to pins vignette](https://cran.r-project.org/web/packages/pins/vignettes/pins.html). 

# Examples

openpoweRlifting has 2 functions - `pin_opl_ipf` and `pin_opl_full`. 
By default the `pin_opl_ipf` function will grab the [nightly IFP dataset](https://openpowerlifting.gitlab.io/opl-csv/bulk-csv.html) and pin it to `board_local` as `"opl-ipf"`. 

You can then read the data with `pin_read(board_local(), "opl-ipf")`. 

By means of example, I'll find the max totals for each equipment class:

```{r}
#pin_opl_ipf()

pin_read(board_local(), "opl-ipf") %>%
  dplyr::group_by(equipment) %>%
  dplyr::slice_max(n=1, order_by=total_kg) %>%
  dplyr::ungroup() %>%
  knitr::kable()
```

Similarly, `pin_opl_full()` will grab the full OPL dataset as `"opl-all"`:

```{r}
#pin_opl_all()

pin_read(board_local(), "opl-all") %>%
  dplyr::group_by(equipment) %>%
  dplyr::slice_max(n=1, order_by=total_kg) %>%
  dplyr::ungroup() %>%
  knitr::kable()
```
